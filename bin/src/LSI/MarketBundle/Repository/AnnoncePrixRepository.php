<?php

namespace LSI\MarketBundle\Repository;

use Doctrine\ORM\EntityRepository;
use LSI\MarketBundle\Entity\PublicMairie;

/**
 * AnnoncePrixRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class AnnoncePrixRepository extends \Doctrine\ORM\EntityRepository
{
	public function findPMairie($mairies)
		{ 	$query = $this->createQueryBuilder('anp');
	  		$query->innerJoin('anp.mairies', 'mairies')
	      		->addSelect('mairies')
	      		->where('mairies.id= :id')
	      		->setParameter('id', $mairies);
	        $result = $query->getQuery()->getResult();

    	return $result;
	}

public function findPAdminis($administres)
	{ 		$query = $this->createQueryBuilder('anp');
	  		$query->innerJoin('anp.administres', 'padminis')
	      		->addSelect('padminis')
	      		->where('padminis.id= :id')
	      		->setParameter('id', $administres);
	        $result = $query->getQuery()->getResult();

    	return $result;
	}
}
